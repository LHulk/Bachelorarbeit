%!TEX root = bachelor.tex
% -- Author: Jannes Bantje, j.bantje@wwu.de
\documentclass[german,a4paper,draft,index=totoc,toc=listof,fontsize=12,DIV=13,headinclude,twoside,BCOR=12mm,cleardoublepage=empty]{scrreprt}


%-- Basics für graphische Sachen
\usepackage[usenames,x11names]{xcolor} % Die Optionen definieren zusätzliche Farben (siehe Dokumentation)
\usepackage[final]{graphicx}

%-- Figures centering
\makeatletter
\g@addto@macro\@floatboxreset\centering
\makeatother
%Figure barriers
\usepackage{placeins}
\usepackage[labelformat=simple]{subcaption}
\renewcommand\thesubfigure{(\alph{subfigure})}

%-- typografische Verbesserungen, Codierungskram, Schriftwahl und erste Mathepakete
\usepackage{hyphenat}
\usepackage[utf8]{inputenc}
\usepackage[lining,semibold]{libertine}
\usepackage[T1]{fontenc}
\usepackage{textcomp} % verhindert ein paar Fehler bei den Fonts
\usepackage[varl]{zi4}
\usepackage{mathtools,amssymb,amsthm} % Verbesserung von amsmath (die amsmath selbst lädt)
\usepackage[libertine,cmintegrals,bigdelims,varbb]{newtxmath}
\usepackage[ngerman]{babel}
\usepackage[babel=true, tracking=true,final]{microtype}
\usepackage{easybmat}
\usepackage{rotating}

%Tabellen
\usepackage{tabularx}

\usepackage{caption}
\usepackage[Algorithmus]{algorithm} % Wrapper für Pseudo-Code
\usepackage{algpseudocode} % Für Pseudo-Code
\renewcommand{\algorithmiccomment}[1]{{\color{gray}\textit{// #1}}} %Comment-Style
\newenvironment{breakablealgorithm}
{% \begin{breakablealgorithm}
	\begin{center}
		\refstepcounter{algorithm}% New algorithm
		\hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
		\renewcommand{\caption}[2][\relax]{% Make a new \caption
			{\raggedright\textbf{Algorithmus~\thealgorithm} ##2\par}%
			\ifx\relax##1\relax % #1 is \relax
			\addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
			\else % #1 is not \relax
			\addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
			\fi
			\kern2pt\hrule\kern2pt
		}
	}{% \end{breakablealgorithm}
	\kern2pt\hrule\relax% \@fs@post for \@fs@ruled
	\end{center}
}

\usepackage{listings}
%\usepackage{fvextra}
%\renewcommand\listoflistingscaption{Liste der Quelldateien}
%\setminted[c++]{
%	linenos,
%	autogobble=true,
%	breaklines=true,
%	numbersep=6pt}
%\setminted[text]{
%	linenos,
%	autogobble=true,
%	breaklines=true,
%	numbersep=6pt}
%
%\newcommand{\java}[1]{\mintinline{java}{#1}}

% \useosf % aktiviert sog. "old style figures", also werden Zahlen – im Text – teilweise unterhalb der Grundlinie angezeigt. Muss man mögen...


%-- Alternative Konfiguration mit XeLaTeX, die ein großes "ß" anzeigen kann!
%-- ACHTUNG: wenn diese benutzt werden soll, dan MUSS man in der ersten Zeile von bachelor.tex "pdflatex" durch "xelatex" ersetzen und natürlich den obigen Block auskommentieren und diesen wiederrum aktivieren!!!

% \usepackage{lmodern}
% \usepackage{mathtools,amssymb,amsthm} % Verbesserung von amsmath (die amsmath selbst lädt)
% \usepackage[libertine,cmintegrals,bigdelims,varbb]{newtxmath}
% \usepackage[no-math]{fontspec}
% \usepackage{polyglossia} % moderner babel-ersatz
% \setmainlanguage[spelling=new,babelshorthands=true]{german}
% \shorthandoff{"}
% \defaultfontfeatures{Mapping=tex-text, Ligatures={Required,Common,Contextual}}
% \setmainfont{LinLibertine}[Extension=.otf,UprightFont=*_R,BoldFont=*_RZ,ItalicFont=*_RI,BoldItalicFont=*_RZI,ItalicFeatures={Ligatures=Historical}]
% \setsansfont{LinBiolinum}[Scale=MatchUppercase, Extension=.otf, UprightFont=*_R, BoldFont=*_RB, ItalicFont=*_RI,BoldItalicFont=*_RBO]
% \setmonofont{Inconsolatazi4}[Scale=MatchUppercase,Extension=.otf,UprightFont=*-Regular,BoldFont=*-Bold,StylisticSet=1]
% \usepackage[final]{microtype}


%-- Zeilenabstand einstellen
\usepackage{setspace}
% Nun kann man, wenn gewünscht den Zeilenabstand zum Beispiel auf 1,5 setzen mit \onehalfspacing

\newcommand{\command}[1]{\texttt{\textbackslash{}#1}}

\newcommand{\pathdiff}[1]{\textbf{#1}}



%-- Mathematikpakete und Einstellungen
\mathtoolsset{centercolon} % sorgt dafür dass := und =: besser aussehen
\usepackage{mathdots} % sorgt dafür, dass Punte wie zB \ddots besser aussehen
\newcommand{\Underbrace}[2]{{\underbrace{#1}_{#2}}} % Underbrace als Befehl in LaTeX-Syntax (und ohne Spacing-Probleme mit nachfolgenden Operatoren...)
\renewcommand{\le}{\leqslant} % ich finde Kleinergleich mit schrägen Strich schöner
\renewcommand{\ge}{\geqslant}

%-- charakteristische-Funktion-/Indikatorfunktion-Eins '\ind'
\usepackage{silence}
\WarningFilter{latexfont}{Size substitutions with differences}
\WarningFilter{latexfont}{Font shape `U/bbold/m/n' in size}
\DeclareSymbolFont{bbold}{U}{bbold}{m}{n}
\DeclareSymbolFontAlphabet{\mathbbold}{bbold}
\newcommand{\ind}{\mathbbold{1}}


\newcommand{\atano}{\text{atan}}
\newcommand{\atant}{\text{atan2}}
%-- Ein sehr hübscher Mengen-Befehl
\newcommand\SetSymbol[1][]{\nonscript\:#1\vert\allowbreak\nonscript\:\mathopen{}}
\providecommand\given{} % to make it exist
\DeclarePairedDelimiterX\set[1]\{\}{\renewcommand\given{\SetSymbol[\delimsize]}#1}

%-- Klammern, Skalarprodukt und Norm
\DeclarePairedDelimiter{\enbrace}{(}{)}
\DeclarePairedDelimiter{\abs}{|}{|}
\DeclarePairedDelimiterX\skal[2]{\langle}{\rangle}{#1\,\delimsize\vert\,#2}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

%-- Differentialrechnung
\newcommand{\mathd}{\mathrm{d}\mkern-0.5mu}
\newcommand{\diff}[2]{\frac{{\partial #1}}{{\partial #2}} }
\newcommand{\diffd}[2]{\frac{\mathd #1}{\mathd #2} }

%-- eigene Befehle
\DeclareMathOperator{\sgn}{sgn}


%-- kommutative Diagramme
\usepackage{tikz-cd} %-- meiner Meinung nach das beste Paket für kommutative Diagramme
\tikzset{% um Kompatibilität mit Babel herzustellen und die angenehme "<label>"-Syntax zu nutzen
  every picture/.append style={
    execute at begin picture={\shorthandoff{"}},
    execute at end picture={\shorthandon{"}}
  }
}
\usetikzlibrary{quotes,babel}
\usepackage{onimage}

%-- Für Literaturangaben, hier wird NICHT das total veraltete bibtex benutzt!
\usepackage[%
	backend=biber,
	sortlocale=auto,
	natbib,
	hyperref,
	backref,
	style=alphabetic % eine unvollständige Auswahl von Styles: ieee, numeric, apa
	]%
{biblatex}
\addbibresource{quellen.bib} % Literaturdatei einlesen

% -- Konfiguration von Hyperref (sorgt für anklickbare Links und ein PDF-Inhaltsverzeichnis)
\usepackage[hidelinks, pdfpagelabels, bookmarksopen=true, bookmarksnumbered=true, linkcolor=black, urlcolor=SkyBlue2, plainpages=false,pagebackref, citecolor=black, hypertexnames=true, pdfborderstyle={/S/U}, linkbordercolor=SkyBlue2, colorlinks=false, backref=false]{hyperref}
\hypersetup{final}

%-- Für Aufzählungen und andere Listen, Anführungszeichen und Zitate
\usepackage[shortlabels]{enumitem} % durch die Option ist die gleiche Syntax wie zB mit dem Paket paralist möglich
\setlist[enumerate,description]{font=\sffamily\bfseries} % sorgt dafür, dass die Labels bei enumerate und description fett sind
\usepackage[german=quotes]{csquotes}

%-- Für hilfreiche Anmerkungen am Seitenrand
\usepackage[obeyDraft,textsize=small]{todonotes}

%-- Kopf- und Fußzeilen bearbeiten
\usepackage{scrpage2}
\pagestyle{scrheadings}
\clearscrheadfoot % Standardkonfiguration löschen
\setheadsepline{1pt}[\color{gray}] % Linie für die Kopfzeile
\automark[section]{chapter} % definiert, welcher Text in den Kolumnentiteln erscheinen soll
\rohead{\rightmark} % section erscheint rechts oben
\lehead{\scshape\leftmark} % chapter erscheint links oben in ist in small caps gesetzt
\ofoot[\pagemark]{\pagemark} % Seitenzahlen immer außen, hier wir auch der plain Stil bearbeitet!
%\ifoot[Titel der Bachelorarbeit]{Titel der Bachelorarbeit}
\renewcommand*{\pnumfont}{\sffamily} % Seitenzahlen in groß und serifenlos
\renewcommand*{\footfont}{\sffamily\color{gray}}
\renewcommand*{\headfont}{\sffamily\color{gray}}



%-- Theorem-Pakete und Konfiguration
\usepackage{thmtools}

\usepackage{bookmark}
% Theoreme als PDF-Lesezeichen
\bookmarksetup{open,numbered}
\makeatletter
\newcommand*{\theorembookmark}{%
  \bookmark[
    dest=\@currentHref,
    rellevel=1,
    keeplevel,
  ]{%
    \thmt@thmname\space\csname the\thmt@envname\endcsname
    \ifx\thmt@shortoptarg\@empty
    \else
      \space(\thmt@shortoptarg)%
    \fi
  }%
}
\makeatother



\declaretheoremstyle[%
	headfont=\sffamily\bfseries,
	notefont=\normalfont\sffamily,
	bodyfont=\normalfont,
	headformat=\NUMBER\ \NAME\NOTE,
	headpunct={},
	postheadspace=\newline,
	postheadhook=\theorembookmark,
	%spaceabove=15pt,
	%spacebelow=10pt,
	mdframed={
		backgroundcolor=gray!20,
		linecolor=gray,
		topline=false,
		bottomline=false,
		rightline=false,
		leftline=false,
		innerbottommargin=6pt,
		innertopmargin=6pt,
	}]%
{mainstyle}
\declaretheoremstyle[%
	headfont=\itshape,
	bodyfont=\normalfont,
	headformat=\NAME \NOTE,
	headpunct=.,
	postheadspace=1ex,
	spacebelow=12pt,spaceabove=2pt,
	qed=\qedsymbol]%
{beweise}

\declaretheorem[name=Definition,parent=section,style=mainstyle]{definition}
\declaretheorem[name=Satz,sharenumber=definition,style=mainstyle]{satz}
\declaretheorem[name=Korollar,sharenumber=definition,style=mainstyle]{korollar}
\declaretheorem[name=Lemma,sharenumber=definition,style=mainstyle]{lemma}
\declaretheorem[name=Proposition,sharenumber=definition,style=mainstyle]{proposition}

\declaretheorem[name=Beweis,numbered=no,style=beweise]{beweis}

\newenvironment{beispiel}{}{\par\medskip}
